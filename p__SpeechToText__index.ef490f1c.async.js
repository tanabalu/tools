"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[772],{88341:function(D,d,e){e.r(d),e.d(d,{default:function(){return B}});var T=e(5574),a=e.n(T),r=e(67294),C=e(75081),f=e(23635),u={"speech-to-text-container":"speech-to-text-container___P3gGM","transcript-container":"transcript-container___fu4lq","controls-container":"controls-container___Y68KE"},s=e(85893),p=window.SpeechRecognition||window.webkitSpeechRecognition,j=function(){var L=(0,r.useState)(),h=a()(L,2),c=h[0],y=h[1],R=(0,r.useState)(""),S=a()(R,2),E=S[0],F=S[1],I=(0,r.useState)(""),g=a()(I,2),N=g[0],P=g[1],Z=(0,r.useState)(!1),v=a()(Z,2),i=v[0],l=v[1];(0,r.useEffect)(function(){p||alert("\u4F60\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u8BED\u97F3\u8BC6\u522B\u529F\u80FD\u3002");var t=new p;t.continuous=!0,t.interimResults=!0,t.lang="zh-CN",t.onresult=function(n){for(var x="",m="",o=n.resultIndex;o<n.results.length;o++)n.results[o].isFinal?m+=n.results[o][0].transcript:x+=n.results[o][0].transcript;F(function(A){return A+m}),P(x)},t.onerror=function(n){n.error==="not-allowed"?alert("\u7CFB\u7EDF\u5DF2\u963B\u6B62\u672C\u7F51\u9875\u4F7F\u7528\u60A8\u7684\u9EA6\u514B\u98CE\u6743\u9650\uFF0C\u8BF7\u524D\u5F80\u5F00\u542F"):alert("\u5F55\u97F3\u5931\u8D25\uFF0C\u8BF7\u6253\u5F00\u63A7\u5236\u53F0\u67E5\u770B\u8BE6\u60C5"),console.error("Speech recognition error",n)},t.onend=function(){l(!1),console.log("Speech recognition service disconnected")},y(t)},[]);var w=function(){c&&(l(!0),c.start())},z=function(){c&&i&&(c.stop(),l(!1))};return(0,s.jsxs)("div",{className:u["speech-to-text-container"],children:[(0,s.jsxs)("div",{className:u["transcript-container"],children:[E,(0,s.jsx)("i",{style:{color:"#ddd"},children:N})]}),(0,s.jsxs)("div",{className:u["controls-container"],children:[i&&(0,s.jsx)(C.Z,{size:"small"}),i?(0,s.jsx)(f.ZP,{onClick:z,disabled:!i,style:{marginLeft:"10px"},children:"\u6682\u505C\u8BED\u97F3\u8BC6\u522B"}):(0,s.jsx)(f.ZP,{onClick:w,disabled:i,type:"primary",children:"\u5F00\u59CB\u8BED\u97F3\u8BC6\u522B"})]})]})},B=j}}]);
